<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù‚Ù…Ø± Ø­ÙŠØ§ØªÙŠ ğŸ’‹</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #ffc0cb, #ff99c8);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .card {
      background: rgba(255, 240, 245, 0.95);
      border-radius: 20px;
      padding: 25px 20px;
      max-width: 340px;
      width: 90%;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border: 2px solid #ff7fae;
      position: relative;
    }

    .emoji-bg {
      position: absolute;
      font-size: 24px;
      opacity: 0.25;
      pointer-events: none;
    }
    .emoji-bg.e1 { top: -10px; left: 10px; }
    .emoji-bg.e2 { top: 10px; right: 10px; }
    .emoji-bg.e3 { bottom: 10px; left: 20px; }
    .emoji-bg.e4 { bottom: -5px; right: 15px; }

    #question {
      font-size: 20px;
      margin-bottom: 20px;
      color: #c2185b;
      font-weight: bold;
      line-height: 1.6;
    }

    .btn {
      display: inline-block;
      margin: 6px;
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      background: #ff7fae;
      color: #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.2s;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.25);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      opacity: 0.85;
    }

    #buttons {
      margin-bottom: 15px;
    }

    #moon-box {
      margin-top: 10px;
      display: none;
    }

    #moon-text {
      font-size: 18px;
      color: #ad1457;
      margin-bottom: 10px;
      font-weight: bold;
    }

    #moon-img {
      max-width: 100%;
      border-radius: 18px;
      border: 2px solid #ff7fae;
    }
  </style>
</head>
<body>

  <!-- ØµÙˆØª Ø§Ù„Ø¶ØºØ· (ØºÙŠÙ‘Ø±ÙŠ src Ø¥Ø°Ø§ Ø¹Ù†Ø¯Ø¬ Ù…Ù„Ù ØºÙŠØ±) -->
  <audio id="click-sound" src="click.mp3" preload="auto"></audio>

  <div class="card">
    <span class="emoji-bg e1">ğŸ’‹</span>
    <span class="emoji-bg e2">ğŸ«¢</span>
    <span class="emoji-bg e3">ğŸ’‹</span>
    <span class="emoji-bg e4">ğŸ’</span>

    <div id="question">ØªØ¯Ø±ÙŠÙ† Ù…Ù†Ùˆ Ø§Ù„Ù‚Ù…Ø±ØŸ ğŸ’‹</div>

    <div id="buttons">
      <button class="btn" id="btn-ana">Ø§Ù†Ø§</button>
      <button class="btn" id="btn-la">Ù„Ø§</button>
    </div>

    <div id="moon-box">
      <div id="moon-text"></div>
      <!-- Ù‡Ù†Ø§ Ø¶Ø¹ÙŠ ØµÙˆØ±ØªØ¬: Ø³Ù…Ù‘ÙŠÙ‡Ø§ moon.jpg Ø£Ùˆ ØºÙŠÙ‘Ø±ÙŠ Ø§Ù„Ù…Ø³Ø§Ø± -->
      <img id="moon-img" src="moon.jpg" alt="Ù‚Ù…Ø± Ø­ÙŠØ§ØªÙŠ">
    </div>
  </div>

  <script>
    const questionEl = document.getElementById("question");
    const buttonsEl = document.getElementById("buttons");
    const moonBox = document.getElementById("moon-box");
    const moonText = document.getElementById("moon-text");
    const clickSound = document.getElementById("click-sound");

    let secondPathStep = 0; // Ù„Ù…Ø³Ø§Ø± "Ù„Ø§" Ø§Ù„Ø£ÙˆÙ„ (Ø­ÙŠØ§ØªÙŠ/Ø¹Ù…Ø±ÙŠ/Ø¹Ø´Ù‚ÙŠ...)

    function playClick() {
      try {
        clickSound.currentTime = 0;
        clickSound.play();
      } catch (e) {}
    }

    function setDelayed(action, delay = 600) {
      playClick();
      setTimeout(action, delay);
    }

    function showFinalWithImage(text) {
      questionEl.textContent = "";
      buttonsEl.innerHTML = "";
      moonBox.style.display = "block";
      moonText.textContent = text;
    }

    function showFinalWithoutImage(text) {
      moonBox.style.display = "none";
      questionEl.textContent = text;
      buttonsEl.innerHTML = "";
    }

    // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¶ØºØ· "Ø§Ù†Ø§"
    document.getElementById("btn-ana").addEventListener("click", () => {
      setDelayed(() => {
        moonBox.style.display = "none";
        questionEl.textContent = "Ù„Ø§ Ù„Ø¬ Ù…Ùˆ Ø§Ù†ØªÙŠ Ù‡Ù‡Ù‡Ø§ÙŠ ğŸ˜‚ğŸ’‹";
        buttonsEl.innerHTML = "";
        const b = document.createElement("button");
        b.className = "btn";
        b.textContent = "Ù„Ø§ Ø§Ù†Ø§Ø§Ø§ ğŸ«¢";
        b.addEventListener("click", stepAna2);
        buttonsEl.appendChild(b);
      });
    });

    // Ø¨Ø¹Ø¯ "Ù„Ø§ Ø§Ù†Ø§Ø§Ø§"
    function stepAna2() {
      setDelayed(() => {
        moonBox.style.display = "none";
        questionEl.textContent = "Ø§Ø­Ù„ÙÙŠ Ø§Ù†ØªÙŠØŸ ğŸ’‹";
        buttonsEl.innerHTML = "";
        const b = document.createElement("button");
        b.className = "btn";
        b.textContent = "ÙˆØ§Ù„Ù„Ù‡";
        b.addEventListener("click", stepAna3);
        buttonsEl.appendChild(b);
      });
    }

    // Ø¨Ø¹Ø¯ "ÙˆØ§Ù„Ù„Ù‡"
    function stepAna3() {
      setDelayed(() => {
        moonBox.style.display = "none";
        questionEl.textContent = "ØªØ±ÙŠØ¯ÙŠÙ† ØªØ¹Ø±ÙÙŠÙ† Ù…Ù†Ùˆ Ø§Ù„Ù‚Ù…Ø±ØŸ ğŸ˜ğŸ’‹";
        buttonsEl.innerHTML = "";

        const yes = document.createElement("button");
        yes.className = "btn";
        yes.textContent = "Ø§ÙŠ";
        yes.addEventListener("click", () => {
          setDelayed(() => {
            showFinalWithImage("Ù‡Ø§ÙŠ Ù‡ÙŠÙ‡ Ø§Ù„Ù‚Ù…Ø± ğŸ«¢ğŸ’‹");
          });
        });

        const no = document.createElement("button");
        no.className = "btn";
        no.textContent = "Ù„Ø§";
        no.addEventListener("click", () => {
          setDelayed(() => {
            showFinalWithoutImage("Ø¨ Ù„Ø¹Ø¯ Ù‡Ø§ÙŠ Ù‡ÙŠÙ‡ Ù‚Ù…Ø±ØªÙŠÙŠ ğŸ’‹");
          });
        });

        buttonsEl.appendChild(yes);
        buttonsEl.appendChild(no);
      });
    }

    // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¶ØºØ· "Ù„Ø§" Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    document.getElementById("btn-la").addEventListener("click", () => {
      setDelayed(() => {
        moonBox.style.display = "none";
        secondPathStep = 0;
        questionEl.textContent = "ØªØ±ÙŠØ¯ÙŠÙ† ØªØ¹Ø±ÙÙŠÙ† Ù…Ù†ÙˆØŸ ğŸ’‹";
        buttonsEl.innerHTML = "";
        const b = document.createElement("button");
        b.className = "btn";
        b.textContent = "Ø§ÙŠ";
        b.addEventListener("click", secondPathNext);
        buttonsEl.appendChild(b);
      });
    });

    // Ø®Ø·ÙˆØ§Øª (Ù‡ÙŠÙ‡ Ø­ÙŠØ§ØªÙŠ -> Ù‡ÙŠÙ‡ Ø¹Ù…Ø±ÙŠ -> Ù‡ÙŠÙ‡ Ø¹Ø´Ù‚ÙŠ ÙˆØ¨Ù†ØªÙŠ -> ØªØ¸Ù‡Ø± Ø§Ù„ØµÙˆØ±Ø©)
    function secondPathNext() {
      setDelayed(() => {
        moonBox.style.display = "none";
        buttonsEl.innerHTML = "";

        if (secondPathStep === 0) {
          questionEl.textContent = "Ù‡ÙŠÙ‡ Ø­ÙŠØ§ØªÙŠ ğŸ’–ğŸ’‹";
        } else if (secondPathStep === 1) {
          questionEl.textContent = "Ù‡ÙŠÙ‡ Ø¹Ù…Ø±ÙŠ ğŸ’˜ğŸ’‹";
        } else if (secondPathStep === 2) {
          questionEl.textContent = "Ù‡ÙŠÙ‡ Ø¹Ø´Ù‚ÙŠ ÙˆØ¨Ù†ØªÙŠ ğŸ’ğŸ’‹";
        } else {
          // Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø© â€“ Ø§Ù„ØµÙˆØ±Ø©
          showFinalWithImage("Ù‡ÙŠÙ‡ ÙØ±Ø­ØªÙŠ ÙÙˆÙØªÙŠ Ø§Ø­Ø¨Ù‡Ø§ ğŸ’‹");
          return;
        }

        secondPathStep++;
        const b = document.createElement("button");
        b.className = "btn";
        b.textContent = "Ù…Ù†ÙˆØŸ";
        b.addEventListener("click", secondPathNext);
        buttonsEl.appendChild(b);
      });
    }
  </script>
</body>
</html>
